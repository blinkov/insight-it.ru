<!DOCTYPE html>
<html lang=ru xmlns=http://www.w3.org/1999/xhtml xmlns:og=http://ogp.me/ns# xmlns:fb=https://www.facebook.com/2008/fbml><head><meta http-equiv=Content-Type content="text/html; charset=UTF-8"><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=msapplication-tap-highlight content=no><title>Архитектура YouTube</title><link href="//fonts.googleapis.com/css?family=Open+Sans&amp;subset=latin,cyrillic" rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=PT+Sans&amp;subset=latin,cyrillic" rel=stylesheet type=text/css><link rel=stylesheet href=https://www.insight-it.ru/theme/css/main.css?5e55de6b><link rel=canonical href=https://www.insight-it.ru/highload/2008/arkhitektura-youtube/ ><meta property=og:url content=https://www.insight-it.ru/highload/2008/arkhitektura-youtube/ ><meta property=og:title content="Архитектура YouTube"><meta property=og:type content=article><meta name=description content="Рост YouTube был феноменально быстр, количество просмотров видео превысило 100 миллионов в сутки при том, что только ..."><meta property=og:description content="Рост YouTube был феноменально быстр, количество просмотров видео превысило 100 миллионов в сутки при том, что только ..."><meta name=keywords content="Apache,BigTable,lighttpd,Linux,MySQL,NetScalar,psyco,Python,YouTube,архитектура,архитектура YouTube,интернет,Масштабируемость,производительность,хранение данных"><meta name=author content="Иван Блинков"><meta property=og:site_name content="Insight IT"><meta property=og:locale content=ru_RU><link href=https://www.insight-it.ru/feed/index.xml type=application/rss+xml rel=alternate title="Insight IT RSS Feed"></head><body><header><div class=container><a href=# data-activates=nav-mobile class="button-collapse top-nav waves-effect waves-light circle"><i class=icon-menu></i></a></div><ul id=nav-mobile class="side-nav fixed"><li class=logo><a id=logo-container href=https://www.insight-it.ru/ class=brand-logo><h4>Insight IT</h4></a></li><li class=bold><a href=https://www.insight-it.ru/highload/ > Высокие нагрузки </a></li><li class=bold><a href=https://www.insight-it.ru/interactive/ > Интерактивные сайты </a></li><li class=no-padding><ul class="collapsible collapsible-accordion"><li class=bold><a class="collapsible-header waves-effect waves-red"> Рубрики </a><div class=collapsible-body><ul><li><a href=https://www.insight-it.ru/category/linux/ > Linux </a></li><li><a href=https://www.insight-it.ru/category/python/ > Python </a></li><li><a href=https://www.insight-it.ru/category/erlang/ > Erlang </a></li><li><a href=https://www.insight-it.ru/category/frontend/ > Frontend </a></li><li><a href=https://www.insight-it.ru/category/storage/ > Хранение данных </a></li><li><a href=https://www.insight-it.ru/category/theory/ > Теория </a></li><li><a href=https://www.insight-it.ru/category/event/ > Мероприятия </a></li><li><a href=https://www.insight-it.ru/category/misc/ > Разное </a></li><li><a href=https://www.insight-it.ru/category/index/ > Все рубрики </a></li></ul></div></li></ul></li><li class=no-padding><ul class="collapsible collapsible-accordion"><li class=bold><a class="collapsible-header waves-effect waves-red"> Страницы </a><div class=collapsible-body><ul><li><a href=https://www.insight-it.ru/blog/ > Блог </a></li><li><a href=https://www.insight-it.ru/about/ > О сайте </a></li><li><a href=https://www.insight-it.ru/author/ > Об авторе </a></li><li><a href=https://www.insight-it.ru/consulting/ > Консультации </a></li><li><a href=https://www.insight-it.ru/contact/ > Контакты </a></li><li><a href=https://www.insight-it.ru/resume/ > Резюме </a></li><li><a href=https://www.insight-it.ru/search/ > Поиск по сайту </a></li></ul></div></li></ul></li></ul></header><main><nav class=top-nav><div class=container><div class=nav-wrapper><ul id=nav-mobile class="right hide-on-med-and-down"><li class><a href=/blog/ >Блог</a></li><li class><a href=/about/ >О&nbsp;сайте</a></li><li class><a href=/author/ >Об&nbsp;авторе</a></li></ul><h1><a class=page-title> Архитектура YouTube </a></h1></div></div></nav><div class=container><div class=row><div class="col s12 m9 l10"><div class="materialdesign section scrollspy"><section id=content class=body><article class=entry-content><p>Рост <a href=https://www.insight-it.ru/goto/628b8f6a/ rel=nofollow target=_blank title=http://www.youtube.com>YouTube</a> был феноменально быстр, количество просмотров видео превысило 100 миллионов в сутки при том, что только около пяти человек работало над масштабированием проекта. Как им удается управлять предоставлением всех этих видеороликов своим посетителям? Как они развивались с тех пор, как были приобретены <a href=/tag/google/ >Google</a>? </p><h3 id=platforma>Платформа</h3><ul><li><a href=/tag/apache/ >Apache</a></li><li><a href=/tag/python/ >Python</a></li><li><a href=/tag/linux/ >Linux</a> (SuSe)</li><li><a href=/tag/mysql/ >MySQL</a></li><li><a href=/tag/psyco/ >psyco</a>, динамический компилятор <a href=/tag/python/ >Python</a>&rarr;<a href=/tag/c/ >C</a></li><li><a href=/tag/lighttpd/ >lighttpd</a> для видео</li></ul><h3 id=chto-vnutri>Что внутри?</h3><h4>Статистика</h4><ul><li>Поддержка обработки более 100 миллионов видеороликов в сутки</li><li>Сервис был запущен в феврале 2005 года</li><li>В марте 2006 года в среднем производилось около 30 миллионов просмотров видео в день</li><li>К июлю 2006 года эта цифра достигла 100 миллионов просмотров в день</li><li>Над проектом работают: 2 системных администратора, 2 архитектора масштабируемости программного обеспечения, 2 разработчика новых возможностей, 2 инженера по сетям, 1 архитектор баз данных</li></ul><h4>Рецепт управления огромными темпами роста</h4><div class=highlight><pre><span class=k>while</span> <span class=p>(</span><span class=nb>true</span><span class=p>)</span>
<span class=p>{</span>
   <span class=n>identify_and_fix_bottlenecks</span><span class=p>();</span>
   <span class=n>drink</span><span class=p>();</span>
   <span class=n>sleep</span><span class=p>();</span>
   <span class=n>notice_new_bottleneck</span><span class=p>();</span>
<span class=p>}</span>
</pre></div><p>Этот цикл проходит далеко не одну итерацию ежедневно.</p><h3 id=veb-servery>Веб-серверы</h3><ul><li><a href=/tag/netscalar/ >NetScalar</a> используется для балансировки нагрузки и кэширования статического контента.</li><li><a href=/tag/apache/ >Apache</a> работает с включенным <code>mod_fast_cgi</code></li><li>Запросы отправляются на обработку с помощью серверного приложения на <a href=/tag/python/ >Python</a>.</li><li>Приложение взаимодействует с различными базами данных и другими источниками информации для формирования финальной <a href=/tag/html/ >HTML</a>-страницы.</li><li>Масштабирование обычно происходит просто добавлением дополнительных компьютеров.</li><li>Код на <a href=/tag/python/ >Python</a> обычно не является узким местом системы, он проводит большую часть времени заблокированным RPC.</li><li><a href=/tag/python/ >Python</a> предоставляет быстроту и гибкость в процессе разработки и развертывания. Этот факт является очень актуальным, если учесть кто является их конкурентами.</li><li>На формирование страницы обычно уходит не более 100 миллисекунд.</li><li><a href=/tag/psyco/ >psyco</a>, динамический компилятор <a href=/tag/python/ >Python</a>&rarr;<a href=/tag/c/ >C</a>, использует JIT подход к компилированию для оптимизации внутренних циклов</li><li>Для интенсивных вычислений, таких как шифрование, используются расширения, написанные на <a href=/tag/c/ >C</a>.</li><li>Какая-то часть заранее сгенерированного <a href=/tag/html/ >HTML</a> хранится в кэше.</li><li>Кэширование данных в <a href=/tag/subd/ >СУБД</a> на уровне строк.</li><li>Кэшируются полностью сформированные объекты <a href=/tag/python/ >Python</a>.</li><li>Некие данные вычисляются и отправляется каждому серверу для кэширования в локальной оперативной памяти. Эта стратегия годится далеко не всегда, чаще всего более эффективен другой метод: самым быстрым кэшем является само серверное приложение, а отправка уже готовых данных остальным серверам для дальнейшей обработки обычно не занимает так много времени. Для организации такого подхода необходимы агенты, осуществляющие отслеживание изменений, предварительную обработку и отправку данных.</li></ul><h3 id=upravlenie-video>Управление видео</h3><ul><li>Издержки включают в себя затраты на пропускную способность каналов связи, приобретение нового оборудования и оплату огромных счетов за электроэнергию.</li><li>Каждый видеоролик расположен на мини-кластере, что означает управление работой с ним группой из нескольких компьютеров.</li><li>Использование кластеров влечет за собой: &ndash; увеличение производительности пропорционально количеству дисков, на которых расположен контент; &ndash; возможность поддержания функционирования всей системы даже в случае прекращения работоспособности части компьютеров; &ndash; возможность организации создания резервных копий <a href=/tag/online/ >online</a>.</li><li>В роли HTTP-сервера для работы с видео используется <a href=/tag/lighttpd/ >lighttpd</a>: &ndash; Он способен дать фору <a href=/tag/apache/ >Apache</a> в плане производительности предоставления статического контента; &ndash; Для работы с событиями ввода-вывода используется <strong>epoll</strong>; &ndash; Многопоточная конфигурация способна обрабатывать большее количество соединений одновременно;</li><li>Самая популярная часть контента размещается в <abbr title="Content Delivery Network">CDN</abbr>&ndash;<abbr title="Content Delivery Network">CDN</abbr> реплицирует весь контент в разных частях системы; &ndash; Компьютеры <abbr title="Content Delivery Network">CDN</abbr> в основном предоставляют данные напрямую из кэша в оперативной памяти, так как ассортимент популярного видео с течением времени меняется достаточно медленно.</li><li>Менее популярный контент, количество просмотров в день которого варьируется в диапазоне от одного до двадцати, обычно размещается на серверах <a href=/tag/youtube/ >YouTube</a>, расположенных в датацентрах на <em>colocation</em>: &ndash; Не смотря на тот факт, что такое видео может быть просмотрено всего несколько раз за день, количество таких роликов велико, что приводит к случайным блокировкам данных на жестких дисках; &ndash; В такой ситуации кэширование практически бесполезно, инвестиции в кэширование контента с низкой вероятностью востребованности обычно является пустой тратой средств; &ndash; Более детальная настройка низкоуровневых компонентов системы, таких как, например, RAID-контроллеры, в этой ситуации может достаточно положительно повлиять на производительность; &ndash; Выбор оптимального размера оперативной памяти на каждой машине также очень важен: как недостаточное, так и излишнее ее количество не являются эффективными решениями.</li></ul><h4>Ключевые моменты</h4><ul><li>Чем <strong>проще</strong> - тем <strong>лучше</strong>;</li><li>Старайтесь минимизировать количество устройств (маршрутизаторов, коммутаторов и тому подобных) между контентом и пользователями: далеко не факт, что все они будут способны выдерживать интенсивную нагрузку;</li><li>Старайтесь использовать самое обыкновенное оборудование. Hi-end оборудование обычно влечет за собой рост издержек, связанных с сопутствующими процессами, например технической поддержкой, а также уменьшает вероятность нахождение решения той или иной проблемы с оборудованием в Сети;</li><li>Используйте самые простые распространенные утилиты. <a href=/tag/youtube/ >YouTube</a> использует идущий в комплекте с <a href=/tag/linux/ >Linux</a> набор утилит для построения системы именно на их основе;</li><li>Не забывайте о случайных доступах к жестким дискам, эту, казалось бы, мелочь тоже стоит настроить.</li></ul><h3 id=upravlenie-miniatiurami-video>Управление миниатюрами видео</h3><ul><li>На удивление сложно решаемая задача, особенно если необходима эффективность;</li><li>Для каждого видео хранится 4 миниатюры, что приводит к существенному преобладанию количества миниатюр над количеством видеороликов;</li><li>Миниатюры хранятся всего на нескольких компьютерах;</li><li>Некоторые проблемы наблюдаются в связи с работой с большим количеством маленьких объектов: &ndash; Проблемы на уровне операционной системы, связанные с большим количеством запросов на поиск данных, а также кэшем страниц и <em>inode</em>'ов файловой системы; &ndash; Ограничение на количество файлов в одной директории (особенно актуально для <strong>ext3</strong>), возможно частичное решение в виде перехода к более иерархической структуре хранения данных, а также переходе к ядру <a href=/tag/linux/ >Linux</a> версии 2.6, что может привести к более чем стократному росту производительности, но в любом случае хранение такого огромного количества файлов в локальной файловой системе - не самая лучшая идея; &ndash; Большое количество запросов в секунду, так как одна страница может содержать до 60 миниатюр различных видеороликов; &ndash; В условиях таких нагрузок <a href=/tag/apache/ >Apache</a> показывает плохую производительность; &ndash; Проводились эксперименты с использованием <a href=/tag/squid/ >squid</a> (обратной proxy) между <a href=/tag/apache/ >Apache</a> и посетителями. Какое-то время такой вариант казался работоспособным, но с ростом нагрузки производительность начала падать. С обработки 300 запросов в секунду она упала до 20; &ndash; Попытки использовать <a href=/tag/lighttpd/ >lighttpd</a> также не завершились успехом: однопоточный режим не справлялся с задачей, а многопоточный требовал отдельного кэша для каждого потока, что сводило на нет его эффективность; &ndash; С таким количеством изображений добавление в систему нового компьютера могло занимать более 24 часов; &ndash; Перезагрузка занимала 6-10 часов, так как кэш должен был "разогреться" прежде чем перестать использовать данные с жестких дисков.</li><li>Решением всех описанных выше проблем стала распределенная система хранения данных <a href=/tag/bigtable/ >BigTable</a> от <a href=/tag/google/ >Google</a>: &ndash; Она позволяет избежать проблем, связанных с большим количеством файлов, так как объединяет маленькие файлы вместе. &ndash; Она работает быстро и устойчива к сбоям, помимо этого она прекрасно приспособлена для работы по ненадежной сети. &ndash; Уменьшает задержки, так как использует распределенный многоуровневый кэш, который способен работать даже между удаленными датацентрами.</li></ul><h3 id=bazy-dannykh>Базы данных</h3><ul><li>Раньше: &ndash;<a href=/tag/mysql/ >MySQL</a> использовалась для хранения данных: пользователей, тэгов, описаний и так далее. &ndash; Данные хранились на монолитном RAID 10 массиве, состоящем из 10 жестких дисков; &ndash; Оборудование арендовалось, что негативно сказывалось на состоянии их кредитных карточек. В случае необходимости нового оборудования, на оформление заказа и доставку мог уходить далеко не один день. &ndash; Они прошли через весь путь эволюции: сначала был один сервер, затем добавилось несколько дополнительных серверов, обслуживающих операции чтения, после чего они решили разбить базу данных на части, и, наконец, они пришли к полноценной распределенной архитектуре. &ndash; Поначалу их система страдала от задержек, связанных с реплицированием. Основной сервер, обрабатывающий операции записи, являлся мощным сервером, работающим в многопоточном режиме, это было необходимо для своевременного выполнения большого объема работы. Второстепенные сервера, которые обрабатывали только операции чтения, асинхронно реплицировали данные в одном потоке, что влекло за собой возможность серьезного отставания некоторых из них. &ndash; Обновления были причиной частого отсутствия необходимой информации в кэше, что заставляло сервера читать данные с жестких дисков. Этот факт сильно замедлял процесс чтения и репликации. &ndash; Реплицирующая архитектура требует немалых вложений в оборудование, необходимого для поддержания постоянно растущих темпов записи информации. &ndash; Основным из кардинальных решений, принятых в архитектуре системы было отделение обеспечения процесса просмотра видео от основного кластера. Основной целью посетителей является просмотр видео, а второстепенные задачи можно возложить и на менее производительный кластер.</li><li>Сейчас: &ndash; Используются распределенные базы данных; &ndash; Сегментированная система <em>(прим.: <a href=https://www.insight-it.ru/highload/2008/arkhitektura-flickr/ >по аналогии с Flickr</a>)</em>; &ndash; Распределенные чтение и запись; &ndash; Более эффективное расположение кэша, что ведет к уменьшению работы с жесткими дисками; &ndash; Такая архитектура привела к 30%-й экономии на оборудовании; &ndash; Задержки в реплицировании сведены к нулю; &ndash; Размеры базы данных могут расти практически неограниченно</li></ul><h3 id=strategiia-razmeshcheniia-v-datatsentrakh>Стратегия размещения в датацентрах</h3><ul><li>Поначалу использовались хостинг провайдеры, предоставляющие услуги colocation. Не самый экономичный подход, но тогда не было другого выхода.</li><li>Хостинг провайдеры не могут поспеть за темпами роста проекта. Не всегда получается получить контроль над необходимым оборудованием или сделать необходимые соглашения о предоставлению сетевых услуг.</li><li>Решением этой проблемы стало создание собственной базы для размещения оборудования. Появилась возможность настраивать абсолютно все и подписывать свои собственные контракты такого рода.</li><li>Было использовано 5 или 6 разных датацентров в дополнение к <abbr title="Content Delivery Network">CDN</abbr>.</li><li>Видео поступает из случайного датацентра, никаких специальных проверок не проводится. Если ролик становится достаточно популярным - он перемещается в <abbr title="Content Delivery Network">CDN</abbr>.</li><li>Основным фактором, влияющим на доступность того или иного ролика является пропускная способность канала связи.</li><li>Для изображений же более актуальны задержки, особенно если на одной страницы должно быть размещено под 60 изображений.</li><li>Репликация изображений производится средствами <a href=/tag/bigtable/ >BigTable</a>. В этом случае используются различные меры для определения ближайшего места, откуда можно получить необходимые данные.</li></ul><h3 id=podvodim-itogi>Подводим итоги</h3><ul><li><strong>Остановитесь на секунду.</strong> Креативные и рискованные трюки могут помочь справиться с задачей в краткосрочном периоде, но со временем понадобятся более продуманные решения.</li><li><strong>Расставьте приоритеты.</strong> Определите какие части Вашего сервиса являются более важными и стройте систему обеспечения ресурсами и усилиями именно в соответствии с поставленными приоритетами.</li><li><strong>Выбирайте свои битвы.</strong> Не бойтесь пользоваться аутсорсингом в некоторых ключевых сервисах. <a href=/tag/youtube/ >YouTube</a> использует <abbr title="Content Delivery Network">CDN</abbr> для распределения своего наиболее популярного контента. Создание своей собственной подобной сети стоило бы им слишком много и потребовало бы слишком много времени. Возможно у Вас появятся подобные возможности в отношении Вашей системы.</li><li><strong>Будьте проще!</strong> Простота позволяет изменять архитектуру более быстро, что позволяет своевременно реагировать на возникающие проблемы. Никто на самом деле не знает что такое <em>простота</em>, но если Вы не боитесь делать изменения, то это неплохой знак что вашей системе свойственна та самая <em>простота</em>.</li><li><strong>Сегментирование.</strong> Сегментирование позволяет изолировать и ограничить дисковое пространство, процессорное время, оперативную память и ввод-вывод. Оно выполняется не только для повышения производительности операций записи.</li><li><strong>Постоянная работа над поиском и устранением узких мест в системе:</strong>&ndash; на программном уровне это чаще всего бывает кэширование и работа с <a href=/tag/subd/ >СУБД</a>; &ndash; на уровне операционной системы - операции ввода-вывода; &ndash; на уровне оборудования - оперативная память и RAID массивы.</li><li><strong>Залог Вашего успеха - командная работа.</strong> Хорошая команда разного рода специалистов должна понимать принцип системы вцелом и того, что лежит <em>под</em> ней. Каждый должен знать свое дело: настраивать принтеры, подключать к системе новые компьютеры, строить сети и так далее. С отличной командой Вам по силам все что угодно.</li></ul><h3 id=istochniki-informatsii>Источники информации</h3><p><em>В отличии от <a href=https://www.insight-it.ru/highload/ >остальных</a>, этот перевод <a href=https://www.insight-it.ru/goto/ea16b832/ rel=nofollow target=_blank title=http://highscalability.com/youtube-architecture>статьи</a> от <a href=https://www.insight-it.ru/goto/f3f1b405/ rel=nofollow target=_blank title=http://highscalability.com/user/todd-hoff>Todd Hoff</a>'а уже был выполнен до меня (при желании можно найти в любой поисковой системе), но я все равно решил опубликовать свою версию просто для собственного развития и полноты <a href=https://www.insight-it.ru/highload/ >коллекции</a>, да и многим читателям, возможно, покажется интересным. Что ж, перейдем к источнику информации оригинала:</em></p><ul><li><a href=https://www.insight-it.ru/goto/f5823d0b/ rel=nofollow target=_blank title="http://video.google.com/videoplay?docid=-6304964351441328559">Google Video</a></li></ul><div class=sharrre-wrapper><div class=twitter data-url=https://www.insight-it.ru/highload/2008/arkhitektura-youtube/ data-text="Архитектура YouTube" data-title=Tweet></div><div class=facebook data-url=https://www.insight-it.ru/highload/2008/arkhitektura-youtube/ data-text="Архитектура YouTube" data-title=Like></div><div class=linkedin data-url=https://www.insight-it.ru/highload/2008/arkhitektura-youtube/ data-text="Архитектура YouTube" data-title="In Share" ></div></div><div class="card-panel light-blue darken-2 light-blue-text text-lighten-4"><span class=published title=2008-03-01T16:07:00+03:00>01 марта 2008</span>&nbsp;|&nbsp;<span class="vcard author"><a class="url fn light-blue-text text-lighten-4" href=https://www.insight-it.ru/author/ > Иван Блинков </a></span>&nbsp;|&nbsp;<a href=https://www.insight-it.ru/category/highload/ class="light-blue-text text-lighten-4" > Высокие нагрузки </a>&nbsp;|&nbsp;<a href=https://www.insight-it.ru/highload/2008/arkhitektura-youtube/#comments class="light-blue-text text-lighten-4" title="34 комментариев"> 34 <i class=icon-chat></i></a></div><div class=taglist class=row><a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/apache/ > Apache </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/bigtable/ > BigTable </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/lighttpd/ > lighttpd </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/linux/ > Linux </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/mysql/ > MySQL </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/netscalar/ > NetScalar </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/psyco/ > psyco </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/python/ > Python </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/youtube/ > YouTube </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/arkhitektura/ > архитектура </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/arkhitektura-youtube/ > архитектура YouTube </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/internet/ > интернет </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/masshtabiruemost/ > Масштабируемость </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/proizvoditelnost/ > производительность </a>&ensp;<a class="tag light-blue lighten-2 white-text" href=https://www.insight-it.ru/tag/khranenie-dannykh/ > хранение данных </a>&ensp;</div></footer></article></section></div><div class=after><div id=comments><h4>34 комментариев</h4><ul class=comments-list><li class=comment><em>Oluysya, 2012-03-17T14:35:44:<em> Согласна, что без хорошей команды успеха не добьешься. Познавательно и про сегментирование , простоту, кэширование... </li><li class=comment><em>Jack, 2011-12-19T10:59:19:<em> У меня так сервер умер </li><li class=comment><em>Иван, 2010-01-19T12:58:00:<em> 9 человек в штате такую работу проделали. Молодцы однако! </li><li class=comment><em>tym83, 2009-05-05T12:47:08:<em> Иван, очень хорошо пишете! Интересно и полезно:)И главное - очень интеллигентно себя ведете и на острые замечания, даже провокационные местами, реагируете спокойно. Так держать!P.S. Уже подписываюсь:-) </li><li class=comment><em>Андрон, 2009-01-28T08:31:17:<em> Добрый день Иван. Не могли бы Вы написать про архитектуру наших Веб проектов:mamba.ru, sape.ru? <ul class=children><li class=comment><em>Иван Блинков, 2009-01-28T15:40:33:<em> > Добрый день Иван. Не могли бы Вы написать про архитектуру наших Веб проектов:mamba.ru, sape.ru?Если Вы уговорите их предоставить соответствующую информацию - запросто ;) </li></ul></li><li class=comment><em>Стёпыч, 2008-09-18T16:39:03:<em> Отличная статья. Особенно понравилось решение размещать малопопулярные ролики на, грубо говоря, обычном хостинге </li><li class=comment><em>Anton Shevchuk, 2008-05-08T09:07:54:<em> Еще статейка по теме создания клона YouTube </li><li class=comment><em>Иван Блинков, 2008-03-20T23:03:20:<em> [quote comment="378"]Иван.Не буду оригинален, но Ваши ссылки на самого себя (полагаю, что это некий плугин делает, а не Вы руками) не есть хорошо. Я по ним более не кликаю.Вот Вы пишете разные термины. Ну приведите ссылку на wiki какое-нибудь. А то все на себя и на себя... Не дело это.В остальном статья интересная. Продолжаю читать.[/quote]Соглашусь, на данный момент от них толку практически нет (за редким исключением), но собственно говоря причины по которым я их пишу (Вы не правы - руками) две:Потенциальное развитие блога. По прошествии какого-то периода времени (полгода, год, два...) на сайте появится достаточно информации (надеюсь), чтобы читатель, нажав на такую ссылку реально мог увидеть относительно полезную информацию, а не просто страницу со ссылкой обратно на ту же статью.Поисковые системы. Хочется банально взглянуть как прореагирует Google (не ужели эта ссылка существенно более информативна, чем, допустим, на Архитектуру Google) прореагиурет на такую перелинковку сайта (по крайней мере сайт, откуда я эту мысль почерпнул очень неплохо представлен в SERP, возможно не из-за этого конечно, но все же).Минусов у этих ссылок конечно предостаточно, в основном это конечно недовольные читатели, которые привыкли нажимать на ссылки не посмотрев куда они ведут и попадающие на полупустые страницы.Не знаю стоит ли игра свеч, но пока я особо смертельных последствий от их наличия не вижу. Хотя в паре постов я, помнится с ними и переборщил, но надеюсь не буду больше особо с ними усердствовать.Кстати полезность ссылок на wiki тоже если честно достаточно спорная: не знаю как у всех, но я (поставив себя на место читателя) скорее наберу слово в поисковом плагине Firefox, чем буду искать ссылку в тексте статьи. А ссылки же просто на какие-либо сайты "в тему" конечно же тоже присутствуют местами в блоге, но видимо они просто "растворяются в толпе" и по ним никто не ходит (хотя сложно сказать, может быть просто я не в курсе)... </li><li class=comment><em>Дмитрий Тимохов, 2008-03-20T21:27:49:<em> Иван.Не буду оригинален, но Ваши ссылки на самого себя (полагаю, что это некий плугин делает, а не Вы руками) не есть хорошо. Я по ним более не кликаю.Вот Вы пишете разные термины. Ну приведите ссылку на wiki какое-нибудь. А то все на себя и на себя... Не дело это.В остальном статья интересная. Продолжаю читать. </li><li class=comment><em>Иван Блинков, 2008-03-20T09:40:03:<em> [quote comment="368"]Вань, спасибо, действительно Вам :)!Ума не приложу, откуда взялся Сергей - прошу прощения :).[/quote]Да ничего страшного :)Очередной раз перефразировал то предложение в статье. Надеюсь так совсем правильно ;) </li><li class=comment><em>anvaka, 2008-03-18T23:30:00:<em> Вань, спасибо, действительно Вам :)!Ума не приложу, откуда взялся Сергей - прошу прощения :). </li><li class=comment><em>Иван Блинков, 2008-03-18T22:53:25:<em> [quote comment="366"]Сергей, спасибо за качественный перевод![/quote]Видимо этот комментарий все же адресовался мне, хоть я вовсе и не Сергей, пожалуйста![quote comment="366"]Однако информация о репликации данных все равно не похожа на правду и вводит в заблуждение. В оригинале статьи Тодд сказал очень двусмысленно о том, что заметил в самом начале Alexey Kovyrin: mysql не поддерживает многопоточного обновления данных во время репликации.Суть проблемы заключается вот в чем: на второстепенном сервере за репликацию отвечает только один поток, выполняя операторы обновления данных последовательно. Eсли в рамках одной реплики должно было произойти три update'a: update1, update2 и update3, то update3 будет выполнен только после завершения update2. Вот здесь и появляется узкое место: выполнение update2 (потенциально) может занять много времени.Я бы перефразировал это так:"... Второстепенные сервера, которые обрабатывали только операции чтения, реплицировали данные в одном потоке...".Впрочем, можете просто посмотреть первоисотчник: доклад Cuong'a на Tech Talk'e. Эта тема затронута на 29-й минуте. Уверен, у вас получится лучше перефразировать проблему :).[/quote]Постараюсь в ближайшее время попытаться разобраться по-подробнее в этом вопросе, правда видимо уже не сегодня - уже собирался идти спать...Спасибо за конструктивную критику :) </li><li class=comment><em>anvaka, 2008-03-18T21:45:27:<em> Сергей, спасибо за качественный перевод!Однако информация о репликации данных все равно не похожа на правду и вводит в заблуждение. В оригинале статьи Тодд сказал очень двусмысленно о том, что заметил в самом начале Alexey Kovyrin: mysql не поддерживает многопоточного обновления данных во время репликации.Суть проблемы заключается вот в чем: на второстепенном сервере за репликацию отвечает только один поток, выполняя операторы обновления данных последовательно. Eсли в рамках одной реплики должно было произойти три update'a: update1, update2 и update3, то update3 будет выполнен только после завершения update2. Вот здесь и появляется узкое место: выполнение update2 (потенциально) может занять много времени.Я бы перефразировал это так:"... Второстепенные сервера, которые обрабатывали только операции чтения, реплицировали данные в одном потоке...".Впрочем, можете просто посмотреть первоисотчник: доклад Cuong'a на Tech Talk'e. Эта тема затронута на 29-й минуте. Уверен, у вас получится лучше перефразировать проблему :). </li><li class=comment><em>Иван Блинков, 2008-03-18T20:52:02:<em> [quote comment="363"]"...Жалко правда, что в тех местах, где присутствуют “самописные” компоненты, не дано никаких подробностей о их реализации, было бы очень интересно."Я открыл новый блог http://neuronus-javax.blogspot...в котором последовательно буду публиковать некоторые "подробности" реализации :)[/quote]Спасибо, прочитал первый пост - подписался :)Надеюсь и моим читателям Ваш новый блог покажется полезным. </li><li class=comment><em>Иван Блинков, 2008-03-18T20:45:01:<em> [quote comment="362"]geoip облажался походу. Я из UA, а не UK[/quote]Бывает... у меня не самая свежая база данных (вроде). </li><li class=comment><em>Neuronus, 2008-03-18T20:36:53:<em> "...Жалко правда, что в тех местах, где присутствуют “самописные” компоненты, не дано никаких подробностей о их реализации, было бы очень интересно."Я открыл новый блог http://neuronus-javax.blogspot...в котором последовательно буду публиковать некоторые "подробности" реализации :) </li><li class=comment><em>sk, 2008-03-18T20:35:18:<em> geoip облажался походу. Я из UA, а не UK </li><li class=comment><em>sk, 2008-03-18T20:33:00:<em> Thanks </li><li class=comment><em>_Andrey_, 2008-03-10T01:21:52:<em> Спасибо, было интересно почитать о внутренностях ютубы. </li><li class=comment><em>Иван Блинков, 2008-03-03T15:52:34:<em> [quote comment="321"]Не понял какую всетаки СУБД они сейчас используют? Сегментирование данных и в MySQL делают, а "Используются распределенные базы данных" не очень внятно об этом говорит :)[/quote]О BigTable от Google.[quote comment="322"]Спасибо, очень интересная тема. Хотелось бы продолжения.[/quote]Пожалуйста.Если Вам пришелся по душе этот материал - взгляните на остальные. </li><li class=comment><em>Krylatij, 2008-03-03T10:11:19:<em> Спасибо, очень интересная тема. Хотелось бы продолжения. </li><li class=comment><em>Sergey, 2008-03-03T09:36:43:<em> Не понял какую всетаки СУБД они сейчас используют? Сегментирование данных и в MySQL делают, а "Используются распределенные базы данных" не очень внятно об этом говорит :) </li><li class=comment><em>Иван Блинков, 2008-03-03T05:55:06:<em> [quote comment="315"]Интересно, насколько правда, что команда разработчиков всего 9 человек? В википедии у них на картинке приличный хедквотер...[/quote]Естественно в тексте не весь персонал перечислен, а только те, кто работают над масштабированием проекта (если повнимательнее вчитаться - можно это увидеть), наверняка там есть еще масса разномастных менеджеров и прочих должностей.[quote comment="315"]Не уверен, насколько правильный перевод Database partitioning - как "распределенная" БД?[/quote]Это не дословный перевод естественно, но мне показалось, что синоним достаточно близкий, можно было конечно написать что-нибудь вроде "разбиение базы данных на части", но стоило ли? </li><li class=comment><em>Alex Filatov, 2008-03-03T02:41:40:<em> Интересно, насколько правда, что команда разработчиков всего 9 человек? В википедии у них на картинке приличный хедквотер...... Не уверен, насколько правильный перевод Database partitioning - как "распределенная" БД? </li><li class=comment><em>Madshall, 2008-03-02T23:53:40:<em> Еще одно доказательство того что даже самые раскрученные и объемные проекты "рукотворны" и делаются "простыми смертными" </li><li class=comment><em>Иван Блинков, 2008-03-02T10:56:47:<em> [quote comment="304"]Похоже им повезло что их купил Google, получили BigTable на халяву, а так пришлось бы разрабатывать что-то аналогичное самим[/quote]Скорее открытым аналогом под названием Hadoop пришлось бы пользоваться, либо да, самим разрабатывать.[quote comment="304"]А что такое CDN?[/quote]Content Delievery Network, сеть компьютеров, соединенных через интернет, предназначенная для предоставления контента (как раз в основном медиа-данных, вроде видео) конечным пользователям. Много компаний предоставляют этот сервис, услугами какой из них пользуется YouTube - сложно сказать, из текста не ясно, но если покопаться в Google, то при желании можно найти скорее всего. </li><li class=comment><em>Kristy, 2008-03-02T10:46:08:<em> Похоже им повезло что их купил Google, получили BigTable на халяву, а так пришлось бы разрабатывать что-то аналогичное самимА что такое CDN? </li><li class=comment><em>Иван Блинков, 2008-03-01T20:04:43:<em> [quote comment="295"]Спасибо за очередную хорошую статью! Очень полезно и по существу.P.S. Кстати, одна из статей в этой же серии привела к появлению сравнения нашей архитектуры и Flickr - http://neuronus.blogspot.com/2...[/quote]И Вам спасибо, этот пост я прочитал еще когда Вы его только написали (благодаря blogsearch.google.com) - достаточно интересно было ознакомиться с еще одним проектом, некоторые упомянутые Вами решения очень к месту в такого рода сервисах, особенно хорошим выбором был по-моему PostgreSQL. Жалко правда, что в тех местах, где присутствуют "самописные" компоненты, не дано никаких подробностей о их реализации, было бы очень интересно. </li><li class=comment><em>Neuronus, 2008-03-01T19:37:35:<em> Спасибо за очередную хорошую статью! Очень полезно и по существу.P.S. Кстати, одна из статей в этой же серии привела к появлению сравнения нашей архитектуры и Flickr - http://neuronus.blogspot.com/2... </li><li class=comment><em>Иван Блинков, 2008-03-01T17:18:36:<em> [quote comment="292"]"обычно не занимает не так много времени" наверное, где-то лишнее "не"... да и вообще абзац мутный... если честно, я не въехал и поскипал.[/quote]Спасибо, соглашусь, попробую как-нибудь по-адекватнее перефразировать.[quote comment="292"]P.S. Тема отличная, спасибо, оч. познавательно.[/quote]Рад, что тема все же оказалась не совсем бесполезной :) </li><li class=comment><em>Lamer, 2008-03-01T17:13:19:<em> "обычно не занимает не так много времени" наверное, где-то лишнее "не"... да и вообще абзац мутный... если честно, я не въехал и поскипал.P.S. Тема отличная, спасибо, оч. познавательно. </li><li class=comment><em>Иван Блинков, 2008-03-01T14:35:37:<em> [quote comment="287"]Второстепенные сервера, которые обрабатывали только операции чтения, обычно работали в однопоточном режиме - уберите слово "обычно" - mysql не умеет многопоточного выполнения запросов при репликации и именно отсюда и replication lag на больших нагрузках.[/quote]Спасибо, в оригинале оно было, но относилось к используемому оборудованию, а не к режиму работы. Не достаточно хорошо вчитавшись в фразу поставил это слово в неправильное место. Исправил. </li><li class=comment><em>Alexey Kovyrin, 2008-03-01T14:12:15:<em> Второстепенные сервера, которые обрабатывали только операции чтения, обычно работали в однопоточном режиме - уберите слово "обычно" - mysql не умеет многопоточного выполнения запросов при репликации и именно отсюда и replication lag на больших нагрузках. </li></ul></div><script type=text/javascript>
        var disqus_shortname = 'insight-it';
        var disqus_identifier = '51 http://www.insight-it.ru/net/scalability/arkhitektura-youtube/';
        var disqus_url = 'https://www.insight-it.ru/highload/2008/arkhitektura-youtube/';
        var disqus_domain = 'disqus.com';
        var disqus_title = 'Архитектура YouTube';
        var disqus_container_id = 'comments';
        (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//insight-it.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script></div></div><div class="col hide-on-small-only m3 l2"><div class=card><a href=https://www.insight-it.ru/author><div class="card-image tooltipped" data-position=top data-delay=50 data-tooltip="Автор Insight IT"><img src=https://www.insight-it.ru/images/avatar.jpeg><span class=card-title>Иван Блинков</span></div></a></div><div class=toc-wrapper><div style="height: 1px;"><ul class="section table-of-contents"><li><a href=# title="Архитектура YouTube">Архитектура YouTube</a><li><a href=#platforma title=Платформа>Платформа</a></li><li><a href=#chto-vnutri title="Что внутри?">Что внутри?</a></li><li><a href=#veb-servery title=Веб-серверы>Веб-серверы</a></li><li><a href=#upravlenie-video title="Управление видео">Управление видео</a></li><li><a href=#upravlenie-miniatiurami-video title="Управление миниатюрами видео">Управление миниатюрами видео</a></li><li><a href=#bazy-dannykh title="Базы данных">Базы данных</a></li><li><a href=#strategiia-razmeshcheniia-v-datatsentrakh title="Стратегия размещения в датацентрах">Стратегия размещения в датацентрах</a></li><li><a href=#podvodim-itogi title="Подводим итоги">Подводим итоги</a></li><li><a href=#istochniki-informatsii title="Источники информации">Источники информации</a></li></li></ul></div></div></div></div></div></main><footer class=page-footer><div id=footer class=container><div class=row><div class="col m4 s12"><h5 class=white-text>Иван Блинков</h5><ul><li><a href=mailto:insight-it@blinkov.ru rel=nofollow><span class="light-blue-text text-lighten-4"><i class="icon-mail white-text"></i> insight-it@blinkov.ru </span></a></li><li><a href=https://www.linkedin.com/in/ivanblinkov rel=nofollow><span class="light-blue-text text-lighten-4"><i class="icon-linkedin light-blue-text text-darken-3"></i> LinkedIn </span></a></li><li><a href=https://twitter.com/blinkov rel=nofollow><span class="light-blue-text text-lighten-4"><i class="icon-twitter cyan-text text-accent-2"></i> @blinkov </span></a></li><li><a href="http://plus.google.com/102882395551389724078?rel=author" rel=nofollow><span class="light-blue-text text-lighten-4"><i class="icon-gplus red-text"></i> Google </span></a></li><li><a href=https://www.facebook.com/ivan.blinkov rel=nofollow><span class="light-blue-text text-lighten-4"><i class="icon-facebook blue-text text-darken-3"></i> Facebook </span></a></li><li><a href=https://www.insight-it.ru/feed/ rel=nofollow><span class="light-blue-text text-lighten-4"><i class="icon-rss orange-text"></i> Подписаться по RSS </span></a></li></ul><a href=//feeds.feedburner.com/insight-it/feed target=_blank rel="external nofollow"><img src="//feeds.feedburner.com/~fc/insight-it/feed?bg=b3e5fc&amp;fg=222222&amp;anim=1" height=26 width=88></a>&nbsp;<a href=//twitter.com/blinkov target=_blank rel="external nofollow"><img src=//button.twittercounter.com/animated/blinkov/222222/b3e5fc width=88 height=26></a></div><div class="col m4 s12"><h5 class=white-text>Рубрики</h5><ul><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/highload/ > Высокие нагрузки </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/interactive/ > Интерактивные сайты </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/linux/ > Linux </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/python/ > Python </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/erlang/ > Erlang </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/storage/ > Хранение данных </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/frontend/ > Frontend </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/theory/ > Теория </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/event/ > Мероприятия </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/misc/ > Разное </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/php/ > PHP </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/security/ > Безопасность </a></li><li><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/category/vacancy/ > Вакансии </a></li></ul><h5 class=white-text>Навигация</h5><ul><li class><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/blog/ >Блог</a></li><li class><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/about/ >О&nbsp;сайте</a></li><li class><a rel=nofollow class="grey-text text-lighten-4" href=https://www.insight-it.ru/author/ >Об&nbsp;авторе</a></li></ul></div><div class="col m4 s12"><h5 class="white-text center-align">Теги</h5><div class="tagcloud taglist"><span class="tag light-blue lighten-2 tag-3"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/programmirovanie/ > Программирование </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/meropriiatiia/ > мероприятия </a></span>&ensp;<span class="tag light-blue lighten-2 tag-1"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/masshtabiruemost/ > Масштабируемость </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/apache/ > Apache </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/informatsionnye-tekhnologii/ > информационные технологии </a></span>&ensp;<span class="tag light-blue lighten-2 tag-2"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/memcached/ > Memcached </a></span>&ensp;<span class="tag light-blue lighten-2 tag-2"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/internet/ > интернет </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/google/ > Google </a></span>&ensp;<span class="tag light-blue lighten-2 tag-2"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/mysql/ > MySQL </a></span>&ensp;<span class="tag light-blue lighten-2 tag-3"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/c/ > C++ </a></span>&ensp;<span class="tag light-blue lighten-2 tag-1"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/arkhitektura/ > архитектура </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/hbase/ > HBase </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/tekhnologiia/ > технология </a></span>&ensp;<span class="tag light-blue lighten-2 tag-3"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/python/ > Python </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/javascript/ > JavaScript </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/oop/ > ООП </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/nginx/ > nginx </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/facebook/ > Facebook </a></span>&ensp;<span class="tag light-blue lighten-2 tag-4"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/highload/ > highload </a></span>&ensp;<span class="tag light-blue lighten-2 tag-2"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/php/ > PHP </a></span>&ensp;<span class="tag light-blue lighten-2 tag-3"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/razrabotka/ > разработка </a></span>&ensp;<span class="tag light-blue lighten-2 tag-3"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/hadoop/ > Hadoop </a></span>&ensp;<span class="tag light-blue lighten-2 tag-1"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/online/ > online </a></span>&ensp;<span class="tag light-blue lighten-2 tag-1"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/linux/ > Linux </a></span>&ensp;<span class="tag light-blue lighten-2 tag-3"><a rel=nofollow class=white-text href=https://www.insight-it.ru/tag/java/ > Java </a></span>&ensp;</div></div></div></div><div class=footer-copyright><div class=container> © Insight IT, 2008-2015 <a class="license right tooltipped" rel="license nofollow" target=_blank href=http://creativecommons.org/licenses/by-nc-nd/4.0/ data-position=top data-delay=50 data-tooltip="Все материалы опубликованы под лицензией Creative Commons Attribution-NonCommercial-NoDerivatives 4.0"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src=https://www.insight-it.ru/theme/images/license.png></a></div></div></footer><script src=//code.jquery.com/jquery-2.1.1.min.js></script><script src=https://www.insight-it.ru/theme/js/main.js?b5bb290d></script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js ','ga');
ga('create', 'UA-3403373-1', 'auto');
ga('send', 'pageview');
</script><script type=text/javascript>(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter30650472 = new Ya.Metrika({id:30650472, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src=//mc.yandex.ru/watch/30650472 style="position:absolute; left:-9999px;" alt></div></noscript></body></html>